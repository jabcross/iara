# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.
spack:
  # add package specs to the `specs` list
  specs:
  # Build tools
  - cmake
  - ninja
  - ccache
  - mold              # Optional: faster linking
  # Compilers & debugging
  - llvm
  - gdb
  - valgrind

  # CLI tools
  - fzf               # Optional: fuzzy finder
  # Python core for Jupyter
  - py-setuptools
  - py-ipykernel
  - py-ipython
  - py-jupyter-client
  - py-jupyter-core

  # Data analysis (actually used in notebooks)
  - py-matplotlib
  - py-numpy
  - py-pandas

  # Math & optimization (actually used in scripts)
  - py-pulp           # Used in buffer-size calculations
  - py-sympy          # Used in scripts/buffer-size-calculator.py
  # Configuration parsing
  - py-pyyaml

  # Linear algebra libraries for cholesky experiment
  - openblas

  - cbc
  - gcc
  - npm
  - py-tqdm
  view: true
  concretizer:
    unify: true
  packages:
    llvm:
      externals:
      - spec: llvm@22.0.0git+clang~flang~lld~lldb
        prefix: /home/pedro.ciambra/llvm-install
        extra_attributes:
          compilers:
            c: /home/pedro.ciambra/llvm-install/bin/clang
            cxx: /home/pedro.ciambra/llvm-install/bin/clang++
      - spec: llvm@22.0.0git+clang~flang~lld~lldb
        prefix: /scratch/pedro.ciambra/repos/clangir/build
        extra_attributes:
          compilers:
            c: /scratch/pedro.ciambra/repos/clangir/build/bin/clang
            cxx: /scratch/pedro.ciambra/repos/clangir/build/bin/clang++
    gcc:
      externals:
      - spec: gcc@11.5.0 languages:='c,c++,fortran'
        prefix: /usr
        extra_attributes:
          compilers:
            c: /usr/bin/gcc
            cxx: /usr/bin/g++
            fortran: /usr/bin/gfortran
