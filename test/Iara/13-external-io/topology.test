// RUN: export SCHEDULER_MODE=$SCHEDULER_MODE
// RUN: pwd >&2
// RUN: build-single-test.sh .
// RUN: pwd >&2
// RUN: ls build >&2
// RUN: ./build/a.out > ./build/output.txt
// RUN: FileCheck %s < ./build/output.txt

// Test external I/O with iara.in and iara.out

iara.actor @run {
  %input = iara.in inout : tensor<4xi32>
  %result = iara.node @process inout (%input : tensor<4xi32>) out (tensor<4xi32>)
  iara.out (%result : tensor<4xi32>)
}

// CHECK: Input: [1, 2, 3, 4]
// CHECK: Output: [2, 4, 6, 8]
